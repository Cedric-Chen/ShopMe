<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <script src="{{ url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}" type="text/javascript" ></script>
  <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" />
  <link href="{{ url_for('static', filename='favicon.ico') }}" rel="shortcut icon">
  <title> Admin Database</title>

  <link href="{{ url_for('static', filename='css/index.css') }}" rel="stylesheet">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<style>
  body {
    padding-top: 60px;
  }
  @media (max-width: 980px) {
    body {
      padding-top: 0;
    }
  }
</style>

</head>


<body>
  {% include "navbar.html" %}

<div class='container col-md-4 col-md-offset-1'>
<form method='post' action="{{ url_for('admin_database_do') }}">

  <div class="form-group">

  <label class="form-check-label">
    <input class="form-check-input" type="radio" name="rb_all"
    {% if rb_all is not defined or rb_all %} checked {%endif%}
    id="inlineRadio1" value="all"> Rollback All
  </label> &nbsp;&nbsp;&nbsp;&nbsp;
  <label class="form-check-label">
    <input class="form-check-input" type="radio" name="rb_all"
    {% if rb_all is defined and not rb_all %} checked {%endif%}
    id="inlineRadio2" value="same"> 
    Rollback Only Same Transcation
  </label>


  <label for="querys">
    Please enter your SQL query here.</label>
    <button class='btn btn-primary' type="submit"
    style="display: inline-block;margin-left:30px;">
    Execute</button>

    <textarea class="form-control" id="querys" name="querys" rows="25"
    style="margin-top:10px;">{% if querys is defined %}{{ querys}}{% endif %}</textarea>
  </div>

</form>
</div>


<div class='container col-md-5 col-md-offset-1'>
    <label>Result</label>
    <textarea class="form-control" rows="12"  style="margin-top:10px;"
        readonly>{% for result in results %}{{ join(result,', ') }}
        {%  endfor %}
    </textarea>
    <br/><br/>
    <label>Log</label>
    <textarea class="form-control" rows="10"  style="margin-top:10px;" 
        readonly>{% for command in commands %}{{ (command[0]-1) * "+ " + command[2] + " ------ " +  command[1]}}
        {% endfor %}
    </textarea>
</div>

</body>
